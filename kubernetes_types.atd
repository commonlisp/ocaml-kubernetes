type id = string
type metadata = (string * string) list

type port = { containerPort: int; hostPort: int }
type container = { name: string; image: string; ports: port list }

type manifest = { id: string; containers: container list }

type desiredState = { manifest: manifest }

type pod = { kind: string; id: string; desiredState: desiredState }

type replicaSelector = { name : id }
type replicationState = { replicas : int; 
     replicaSelector : replicaSelector; 
     podTemplate : manifest }

type replicationController = { desiredState: replicationState }
type resourceTy = 
    [ Pod of pod
    | ReplicationController 
    | Service ]

type resource = [ Resource of (id * metadata * resourceTy) ]
